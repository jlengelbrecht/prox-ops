# =============================================================================
# OCI Terraform Configuration Example
# =============================================================================
# Copy this to terraform.tfvars and fill in your values
#
# For CI/CD deployments via GitHub Actions, configure these secrets:
#   - OCI_TENANCY_OCID
#   - OCI_USER_OCID
#   - OCI_FINGERPRINT
#   - OCI_PRIVATE_KEY (full PEM content)
#   - OCI_COMPARTMENT_ID
#   - OCI_SSH_PUBLIC_KEY
#   - K8S_WG_PUBLIC_KEY
#   - OCI_SSH_ALLOWED_CIDRS (JSON array, e.g., '["1.2.3.4/32"]')
#   - OCI_WG_PEER_ALLOWED_CIDRS (JSON array, e.g., '["1.2.3.4/32"]')

# OCI Configuration
oci_config_profile = "DEFAULT"
oci_region         = "us-ashburn-1"
compartment_id     = "ocid1.tenancy.oc1..aaaaaaaa..."  # Your tenancy/compartment OCID

# SSH Key (paste your public key)
ssh_public_key = "ssh-rsa AAAA..."

# =============================================================================
# Security Configuration (IMPORTANT)
# =============================================================================
# Restrict SSH and WireGuard to your home IP for security.
# This blocks 99.9% of brute-force attacks and reduces attack surface.

# SSH access restriction (recommend your home IP)
ssh_allowed_cidrs = ["YOUR_HOME_IP/32"]

# WireGuard access restriction (recommend your home IP)
wg_peer_allowed_cidrs = ["YOUR_HOME_IP/32"]

# Plex Proxy Configuration
plex_proxy_enabled = true
plex_proxy_name    = "plex-proxy"

# K8s WireGuard public key (set after deploying K8s WireGuard gateway)
# Leave empty for initial deployment, then update after K8s side is configured
k8s_wg_public_key = ""

# Plex LoadBalancer IP in K8s cluster
plex_loadbalancer_ip = "10.20.81.100"

# Tags
freeform_tags = {
  project   = "prox-ops"
  managedby = "terraform"
}
