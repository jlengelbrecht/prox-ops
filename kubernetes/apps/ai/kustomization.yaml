---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: ai

resources:
  - ./namespace.yaml
  # EPIC-022: Local AI Platform (Ollama-centric architecture)
  # Architecture validated: 2025-12-10
  # See: .claude/.ai-docs/epics/EPIC-022-local-ai-platform.md
  #
  # Phase 1: Core Platform
  - ./ollama/storage/ks.yaml  # Storage with prune: false - MUST come before ollama
  - ./ollama/ks.yaml          # STORY-080: Ollama LLM backend
  - ./open-webui/storage/ks.yaml  # Storage with prune: false - MUST come before open-webui
  - ./open-webui/ks.yaml          # STORY-081: Chat UI
  # - ./qdrant/ks.yaml        # STORY-074: Vector DB for RAG (pending)
  #
  # Phase 2: API Layer
  # - ./litellm/ks.yaml       # STORY-075: OpenAI-compatible API (pending)
